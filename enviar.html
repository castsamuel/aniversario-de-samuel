<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enviar Mensagem</title>

<style>
    body {
        background-color: #001900;
        color: #00ff00;
        font-family: "Courier New", monospace;
        padding: 20px;
    }

    h1 {
        color: #00ff00;
        text-align: center;
    }

    label {
        display: block;
        margin-top: 20px;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input, textarea {
        width: 100%;
        padding: 10px;
        background: #000;
        border: 1px solid #00ff00;
        color: #00ff00;
        font-family: inherit;
        resize: none;
    }

    button {
        margin-top: 20px;
        width: 100%;
        padding: 12px;
        background: #00ff00;
        color: #000;
        font-weight: bold;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }

    button:hover {
        background: #00cc00;
    }

    #status {
        margin-top: 20px;
        font-weight: bold;
        text-align: center;
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>
<body>

<h1>Deixar uma mensagem para o Samuel ðŸŽ‰</h1>

<label>Seu nome:</label>
<input id="sender" placeholder="Digite seu nome">

<label>Sua mensagem:</label>
<textarea id="content" rows="5" placeholder="Digite algo bonito para o Samuel"></textarea>

<button onclick="sendMessage()">Enviar mensagem</button>

<div id="status"></div>

<script>
/* ---- Supabase ---- */
const SUPABASE_URL = "https://ptqiuuohfeytgumrmgvc.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0cWl1dW9oZmV5dGd1bXJtZ3ZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4NDg0MzYsImV4cCI6MjA4MDQyNDQzNn0.VjQdTF_4-bBtP02dR4NOSCqOU15NHtt6ttj8qE87rHE";

const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

/* ---- Enviar mensagem ---- */
async function sendMessage() {
    const sender = document.getElementById("sender").value.trim();
    const content = document.getElementById("content").value.trim();
    const status = document.getElementById("status");

    if (sender === "" || content === "") {
        status.innerHTML = "Preencha todos os campos!";
        status.style.color = "#ff4444";
        return;
    }

    const { error } = await supabase
        .from("messages")
        .insert([{ sender, content }]);

    if (error) {
        status.innerHTML = "Erro ao enviar mensagem.";
        status.style.color = "#ff4444";
        return;
    }

    status.innerHTML = "Mensagem enviada com sucesso! ðŸŽ‰";
    status.style.color = "#00ff00";

    document.getElementById("sender").value = "";
    document.getElementById("content").value = "";
}
</script>

</body>
</html>
